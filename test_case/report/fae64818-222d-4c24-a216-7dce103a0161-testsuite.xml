<ns0:test-suite xmlns:ns0="urn:model.allure.qatools.yandex.ru" start="1535944051866" stop="1535944053681">
  <name>Home_advart_test</name>
  <labels/>
  <test-cases>
    <test-case start="1535944051866" status="passed" stop="1535944052519">
      <description>顶部广告获取成功</description>
      <name>test_get_adv_success</name>
      <attachments/>
      <labels>
        <label name="severity" value="normal"/>
        <label name="thread" value="2040-MainThread"/>
        <label name="host" value="WIN-2UTDL5VGFJJ"/>
        <label name="framework" value="pytest"/>
        <label name="language" value="cpython3"/>
      </labels>
      <steps/>
    </test-case>
    <test-case start="1535944052522" status="passed" stop="1535944052659">
      <description>首页文章页码参数为空</description>
      <name>test_get_art_null</name>
      <attachments/>
      <labels>
        <label name="severity" value="normal"/>
        <label name="thread" value="2040-MainThread"/>
        <label name="host" value="WIN-2UTDL5VGFJJ"/>
        <label name="framework" value="pytest"/>
        <label name="language" value="cpython3"/>
      </labels>
      <steps/>
    </test-case>
    <test-case start="1535944052661" status="passed" stop="1535944052790">
      <description>首页文章页码参数传入错误，大于100</description>
      <name>test_get_art_error</name>
      <attachments/>
      <labels>
        <label name="severity" value="normal"/>
        <label name="thread" value="2040-MainThread"/>
        <label name="host" value="WIN-2UTDL5VGFJJ"/>
        <label name="framework" value="pytest"/>
        <label name="language" value="cpython3"/>
      </labels>
      <steps/>
    </test-case>
    <test-case start="1535944052791" status="failed" stop="1535944053681">
      <description>首页文章第1页：榜单-好文推荐、文章排序和条数</description>
      <name>test_get_artfirst_success</name>
      <failure>
        <message>AssertionError: assert -621 == 0</message>
        <stack-trace>def test_get_artfirst_success():
    	'''首页文章第1页：榜单-好文推荐、文章排序和条数'''
    	body = {'userId':'566453','machineCode':'2ACCCCDC5FBDBE59ADD70F1C100FE4BB','id':',,2','page':'1','type':'5,17,6','protocolVersion':'4.6.5'}
    	result = requests.post(Url,data = body).json()  #首页文章
    	resultbd = requests.post('http://mysteelapi.steelphone.com/v4/article/queryBillBoard.htm?&amp;userId=566453&amp;page=1&amp;size=15&amp;isPad=').json()   #榜单-好文推荐
    	#print(resultbd)
    
    	#===============断言榜单-好文推荐==============
    	bdlist = []      #首页榜单列表
    	bddlist = []     #榜单页列表
    
    	#获取首页榜单文章id
    	for art in result['articles']:
    		if len(art['articlePicArray']) != 0:
    			bd = art['articlePicArray']
    			#print(bd)
    			for bdid in bd:
    				#print(len(bdid))
    				bdlist.append(bdid['id'])
    			#print(bdlist)
    
    	#获取榜单详细页文章id
    	for artbd in resultbd['articles']:
    		bddlist.append(artbd['id'])
    	#print(bddlist)
    
    	for l in range (5):
    		bo = int(bdlist[l]) - int(bddlist[l])
    		#print(bo)
&gt;   		assert bo == 0   #断言首页榜单文章为榜单详细页前五篇文章
E     assert -621 == 0

Home_advart_test.py:101: AssertionError</stack-trace>
      </failure>
      <attachments/>
      <labels>
        <label name="severity" value="normal"/>
        <label name="thread" value="2040-MainThread"/>
        <label name="host" value="WIN-2UTDL5VGFJJ"/>
        <label name="framework" value="pytest"/>
        <label name="language" value="cpython3"/>
      </labels>
      <steps/>
    </test-case>
  </test-cases>
</ns0:test-suite>
